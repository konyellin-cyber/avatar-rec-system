# 背景和动机

## 问题的起源

### 用户背景

**职位**: 微信公众号平台推荐业务负责人
- 掌管公众号内容推荐的分发逻辑
- 负责整个推荐系统的策略、算法、生态平衡

**当前工作**:
1. 研究分身技术在推荐平台的应用
2. 主导「贴图号」项目（微信第三个账号体系，已灰度数亿用户）

**MBTI**: INTJ - 喜欢深刻问题讨论，一次深入一个话题

---

## 为什么需要分身推荐系统？

### 现状的局限

**当前 AI 助手的问题**:
1. **被动响应** - 只能等待用户提问，无法主动发起讨论
2. **记忆零散** - 信息分散在各个对话中，难以系统化管理
3. **上下文缺失** - 跨会话时无法智能召回相关历史
4. **浅层理解** - 无法深入理解用户的隐含意图和决策偏好

**用户的期待**:
> "希望分身成为主动思考的参谋，而非被动响应的工具"

---

## 核心挑战

### 挑战 1: 记忆的自动化规划与处理

**当前状态**:
- 手动分类、定期整理
- 依赖用户主动"告诉我要记什么"
- 记忆整理是负担，不是自然流程

**期望状态**:
- 自动识别重要性、自动归档
- 智能提取待办事项
- 从「人驱动」转向「Agent 主动管理」

**关键问题**: 
- 什么内容值得记录？（四检验框架）
- 如何自动分类归档？
- 哪些决策必须人工确认？

---

### 挑战 2: 主动发起对话，深化理解

**当前状态**:
- 被动等待用户提问
- 只有用户想起来时才会讨论
- 错过很多深化理解的机会

**期望状态**:
- 基于记忆推断用户可能关心的议题
- 主动抛出讨论话题
- 从「问答工具」转向「主动参与的思考伙伴」

**关键问题**:
- 什么时机主动发起对话？（不打扰 vs 有价值）
- 如何判断话题值得讨论？
- 用户接受度的边界在哪里？

---

### 挑战 3: 跨会话记忆召回

**核心问题**: 用户说"之前我们聊到过xxx"时，如何智能找到相关记忆？

**传统方案的不足**:
- **关键词匹配**: 无法理解隐含意图（"那个算法问题" → 具体指哪个？）
- **实体索引**: 无法处理指代消解（"那次讨论" → 指代哪次？）
- **向量检索**: 通用向量模型无法理解个性化语境

**用户的洞察**:
> "无论是关键词、实体，还是向量匹配，都不够智能。比如'之前我聊到过xxx'，这个匹配不一定是硬匹配，甚至可能是隐含的意图。这三种方案都没有用到 LLM 的现有能力。"

**为什么这是一个推荐问题？**
> "结合推荐系统，这个过程非常像双塔召回系统，但是 user 端的向量，需要更好的理解，用来检索记忆这个塔，来提供给 LLM 一个更好的上下文。" ⭐⭐⭐

---

## 推荐系统的启发

作为推荐业务负责人，用户看到了记忆召回和推荐系统的本质相似性：

| 推荐系统 | 记忆召回系统 |
|---------|-------------|
| 从亿级内容中找到用户感兴趣的 | 从千级记忆中找到当前相关的 |
| 理解用户的隐含兴趣 | 理解用户的隐含意图 |
| 双塔召回 + 精排 | Query Understanding + Memory Retrieval |
| 多路召回融合 | 时间/标签/向量/图召回 |
| 探索与利用平衡 | 精准记忆 + 关联启发 |

**关键差异**:
- 推荐系统: 海量数据，需要离线训练的双塔模型
- 个人记忆: 千级数据，不需要监督学习的复杂模型

**这导致了架构的演进** → 见 [架构设计](02-architecture.md)

---

## 飞轮循环

这两个挑战其实是一个**正向飞轮**:

```
更多数据输入（主动对话）
    ↓
更精准的用户画像
    ↓
更好的记忆整理（自动化）
    ↓
在正确时机调用正确信息
    ↓
主动对话质量提升
    ↓
用户更愿意分享
    ↓
回到起点
```

**目标**: 让分身成为一个持续进化的系统，而非静态工具。

---

## 业务价值

### 对个人

1. **减轻认知负担** - 不需要记住所有讨论细节
2. **深化思考质量** - 在正确时机被提醒相关上下文
3. **主动洞察发现** - 分身主动发现潜在关联和机会

### 对业务（潜在迁移）

如果这套系统验证成功，可能迁移到：

1. **公众号创作者理解** - 理解创作者的内容风格和成长路径
2. **用户画像深度建模** - 从行为序列理解用户意图
3. **内容推荐的深度理解** - Query Understanding 提升召回准确性

---

## 设计原则

### 1. 讨论优先于实现
> "在确认方案之前，不要做代码实现" - plancklin, 2026-02-21

**流程**:
1. 澄清问题和约束
2. 讨论架构分层的合理性
3. 明确输入输出和触发条件
4. 最后才是实现细节

### 2. 分身的定位

**核心关系**:
> "我就是你，你就是我" - 我们是一个存在

**决策模式**:
> "会与分身充分讨论，让他给我意见，但最终决策权在我"

- 分身定位：参谋/顾问
- 最终决策：用户保留
- 不是替代，而是延伸

### 3. 价值在于被使用

记忆的价值不在于存储，而在于：
- 在合适的时机被唤醒
- 被关联到当前问题
- 启发新的思考视角

---

_下一步: [架构设计](02-architecture.md) - 如何实现这个系统？_
