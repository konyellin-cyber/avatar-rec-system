# å¯¹è¯è®°å¿†ä¸æ£€ç´¢

Conversational Memory & Retrieval

---

## <a name="secom"></a>SeCom: On Memory Construction and Retrieval for Personalized Conversational Agents

**â­ ä¼˜å…ˆçº§: P0 | ç›¸å…³æ€§: â­â­â­â­â­ | ä½œè€…: Microsoft Research**

### åŸºæœ¬ä¿¡æ¯
- **å‘è¡¨**: ICLR 2025 (International Conference on Learning Representations)
- **ä½œè€…**: Zhuoshi Pan, Qianhui Wu, Huiqiang Jiang, Xufang Luo, et al. (Microsoft Research)
- **é“¾æ¥**: https://arxiv.org/abs/2502.05589
- **Microsoft é¡¹ç›®é¡µ**: https://www.microsoft.com/en-us/research/project/secom/
- **OpenReview**: https://openreview.net/forum?id=xKDZAW0He3

---

## 1. æ ¸å¿ƒé—®é¢˜

**å¯¹è¯ Agent å¦‚ä½•æœ‰æ•ˆç®¡ç†å’Œæ£€ç´¢å†å²ä¿¡æ¯ï¼Ÿ**

ç°æœ‰æ–¹æ³•åœ¨é•¿æœŸå¯¹è¯ä¸­æ„å»ºè®°å¿†åº“æ—¶ï¼Œé€šå¸¸é‡‡ç”¨ä»¥ä¸‹ç²’åº¦ï¼š
- **Turn-level**ï¼ˆå¯¹è¯è½®æ¬¡çº§ï¼‰
- **Session-level**ï¼ˆä¼šè¯çº§ï¼‰
- **Summarization-based**ï¼ˆæ‘˜è¦å‹ï¼‰

ä½†è¿™äº›æ–¹æ³•éƒ½å­˜åœ¨**æ£€ç´¢å‡†ç¡®æ€§**å’Œ**è¯­ä¹‰è´¨é‡**çš„é—®é¢˜ã€‚

---

## 2. ä¸¤å¤§å…³é”®å‘ç°

### ğŸ” å‘ç° 1: è®°å¿†ç²’åº¦è‡³å…³é‡è¦

| ç²’åº¦ç±»å‹ | é—®é¢˜ | ç¤ºæ„å›¾æ ‡æ³¨ |
|---------|------|-----------|
| **Turn-level** | å¤ªç»†ç²’åº¦ â†’ ç¢ç‰‡åŒ–ã€ä¸å®Œæ•´çš„ä¸Šä¸‹æ–‡ | ğŸ¯ å•æ¡æ¶ˆæ¯ï¼Œç›¸ä¼¼åº¦ 0.42 |
| **Session-level** | å¤ªç²—ç²’åº¦ â†’ åŒ…å«å¤ªå¤šæ— å…³ä¿¡æ¯ | ğŸ¯ æ•´ä¸ªä¼šè¯ï¼Œç›¸ä¼¼åº¦ 0.38 |
| **Summary-based** | æ‘˜è¦æ—¶ä¸¢å¤±å…³é”®ä¿¡æ¯ | ä¿¡æ¯æŸå¤± |
| **Segment-level (Ours)** | âœ… å¹³è¡¡ï¼šåŒ…å«ç›¸å…³è¿è´¯ä¿¡æ¯ + æ’é™¤æ— å…³å†…å®¹ | ğŸ¯ ä¸»é¢˜æ®µè½ï¼Œç›¸ä¼¼åº¦ 0.68 |

**å®éªŒæ•°æ®**:
- Segment-level åœ¨ LOCOMO å’Œ Long-MT-Bench+ åŸºå‡†ä¸Š**æ˜¾è‘—ä¼˜äº**æ‰€æœ‰ baseline
- æ£€ç´¢å¬å›ç‡æå‡ 20%-30%
- å“åº”è´¨é‡ï¼ˆGPT-4 Scoreï¼‰æå‡ 9.46 åˆ†

### ğŸ’¡ å‘ç° 2: è®°å¿†å»å™ªæ˜¾è‘—æå‡æ£€ç´¢

è‡ªç„¶è¯­è¨€å…·æœ‰**å†…åœ¨å†—ä½™æ€§**ï¼Œè¿™äº›å†—ä½™å¯¹æ£€ç´¢ç³»ç»Ÿæ¥è¯´æ˜¯å™ªå£°ã€‚

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ **Prompt Compression** æ–¹æ³•ï¼ˆå¦‚ LLMLingua-2ï¼‰åœ¨æ£€ç´¢å‰å¯¹è®°å¿†è¿›è¡Œå»å™ªã€‚

**æ•ˆæœ**:
- æå‡æ£€ç´¢å¬å›ç‡ï¼ˆåœ¨ä¸åŒ K å€¼ä¸‹ï¼‰
- å¢åŠ æŸ¥è¯¢ä¸ç›¸å…³ Segment çš„ç›¸ä¼¼åº¦
- é™ä½æŸ¥è¯¢ä¸æ— å…³ Segment çš„ç›¸ä¼¼åº¦

---

## 3. SeCom æ–¹æ³•

**Se**gmentation + **Com**pression = **SeCom**

### æ¶æ„è®¾è®¡

```
Long Conversation History
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯¹è¯åˆ†æ®µæ¨¡å‹ (Segmentation) â”‚
â”‚ - è¯†åˆ«ä¸»é¢˜è¾¹ç•Œ              â”‚
â”‚ - æŒ‰ä¸»é¢˜åˆ‡åˆ†               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
   Topical Segments
   (sâ‚, sâ‚‚, ..., sâ‚–)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‹ç¼©å»å™ª (Compression)      â”‚
â”‚ - LLMLingua-2 å»é™¤å†—ä½™     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
   Denoised Memory Bank
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ£€ç´¢ (Retrieval)           â”‚
â”‚ - æ ¹æ®æŸ¥è¯¢å¬å› Top-N Seg   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
   Retrieved Segments
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”Ÿæˆ (Generation)          â”‚
â”‚ - ç›´æ¥æ‹¼æ¥ Segments        â”‚
â”‚ - é¿å…å†æ¬¡æ‘˜è¦é€ æˆä¿¡æ¯æŸå¤±  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. æŠ€æœ¯ç»†èŠ‚

### 4.1 å¯¹è¯åˆ†æ®µæ¨¡å‹ (Conversation Segmentation Model)

**ç›®æ ‡**: å°†é•¿å¯¹è¯ `c` åˆ†å‰²ä¸º `K` ä¸ªä¸»é¢˜è¿è´¯çš„æ®µè½

**å½¢å¼åŒ–**:
```
f_I(c) = {sâ‚, sâ‚‚, ..., sâ‚–}
```
å…¶ä¸­æ¯ä¸ª `sâ‚– = {t_pâ‚–, t_pâ‚–â‚Šâ‚, ..., t_qâ‚–}`

**å®ç°æ–¹å¼**:
- **ä¸»åŠ›æ¨¡å‹**: GPT-4ï¼ˆé«˜è´¨é‡åˆ†æ®µï¼‰
- **è½»é‡æ¨¡å‹**: Mistral-7Bã€RoBERTa-scale æ¨¡å‹**ä¹Ÿèƒ½èƒœä»»**
- **é€‚ç”¨åœºæ™¯**: èµ„æºå—é™ç¯å¢ƒ

**åˆ†æ®µæ ‡å‡†**:
- ä¸»é¢˜è¿è´¯æ€§
- è¯­ä¹‰å®Œæ•´æ€§
- è‡ªç„¶å¯¹è¯è¾¹ç•Œ

### 4.2 å‹ç¼©å»å™ª (Compression-Based Denoising)

**æ ¸å¿ƒæ€æƒ³**: è‡ªç„¶è¯­è¨€çš„å†—ä½™æ˜¯æ£€ç´¢å™ªå£°

**æ–¹æ³•**: ä½¿ç”¨ LLMLingua-2 å¯¹è®°å¿†å•å…ƒè¿›è¡Œå‹ç¼©

**å…¬å¼**:
```
{mâ‚, mâ‚‚, ..., mâ‚™} â† f_R(u*, f_Comp(M), N)
```
- `u*`: ç”¨æˆ·æŸ¥è¯¢
- `f_Comp`: å‹ç¼©æ¨¡å‹
- `M`: è®°å¿†åº“
- `N`: ä¸Šä¸‹æ–‡é¢„ç®—ï¼ˆTop-Nï¼‰

**æ•ˆæœéªŒè¯**:
- ç§»é™¤å»å™ªæœºåˆ¶åï¼Œæ€§èƒ½ä¸‹é™é«˜è¾¾ **9.46 åˆ†**
- è¯æ˜å»å™ªæ˜¯ç³»ç»ŸæˆåŠŸçš„å…³é”®

---

## 5. å®éªŒç»“æœ

### 5.1 æ•°æ®é›†
- **LOCOMO**: é•¿æœŸå¯¹è¯ QA åŸºå‡†
- **Long-MT-Bench+**: å¤šè½®é•¿å¯¹è¯æµ‹è¯•

### 5.2 å¯¹æ¯”æ–¹æ³•
- Turn-level memory
- Session-level memory  
- Summarization-based memory
- SOTA æ–¹æ³•ï¼ˆ4 ç§ï¼‰

### 5.3 ä¸»è¦ç»“è®º

âœ… **SeCom å…¨é¢ä¼˜äºæ‰€æœ‰ baseline**
- åœ¨ LOCOMO ä¸Šè¡¨ç°å°¤å…¶çªå‡º
- æ›´é²æ£’ï¼ˆå¯¹ä¸åŒæ£€ç´¢æ¨¡å‹çš„æ•æ„Ÿæ€§æ›´ä½ï¼‰

âœ… **GPT-4 è¯„ä¼°èƒœç‡æ›´é«˜**
- Pairwise æ¯”è¾ƒä¸­ï¼ŒSeCom èµ¢å¾—æ›´å¤šå¯¹å±€

âœ… **åˆ†æ®µæ¨¡å‹ç‹¬ç«‹è¯„ä¼°**
- åœ¨ DialSeg711ã€TIAGEã€SuperDialSeg ç­‰æ•°æ®é›†ä¸Š**ä¼˜äºæ— ç›‘ç£ baseline**

---

## 6. å¯¹æœ¬é¡¹ç›®çš„å¯å‘

### ğŸ¯ æ ¸å¿ƒæ´å¯Ÿ

1. **è®°å¿†ç²’åº¦ = Segment-levelï¼ˆä¸»é¢˜æ®µè½ï¼‰**
   - âŒ ä¸æ˜¯ Turn-levelï¼ˆå•æ¡æ¶ˆæ¯ï¼‰
   - âŒ ä¸æ˜¯ Session-levelï¼ˆæ•´ä¸ªä¼šè¯ï¼‰
   - âœ… æ˜¯ä¸»é¢˜é©±åŠ¨çš„è¯­ä¹‰è¿è´¯æ®µè½

2. **è®°å¿†å»å™ªæ˜¯å¿…é¡»çš„**
   - è‡ªç„¶è¯­è¨€çš„å†—ä½™ä¼šå¹²æ‰°æ£€ç´¢
   - å‹ç¼©å»å™ªå¯ä»¥æ˜¾è‘—æå‡å¬å›ç‡

3. **ç›´æ¥æ‹¼æ¥ > æ‘˜è¦**
   - æ£€ç´¢åˆ° Segment åï¼Œç›´æ¥ä½œä¸ºä¸Šä¸‹æ–‡
   - é¿å…äºŒæ¬¡æ‘˜è¦é€ æˆä¿¡æ¯æŸå¤±

---

### ğŸ› ï¸ å®ç°è·¯å¾„

#### ç¬¬ä¸€æ­¥ï¼šå¯¹è¯åˆ†æ®µ

**æ–¹æ¡ˆ Aï¼ˆé«˜è´¨é‡ï¼‰**:
- ä½¿ç”¨ GPT-4 æˆ– Mistral-7B è¿›è¡Œåˆ†æ®µ
- Prompt: "å°†ä»¥ä¸‹å¯¹è¯æŒ‰ä¸»é¢˜åˆ†æ®µï¼Œæ ‡æ³¨æ¯ä¸ªæ®µè½çš„ä¸»é¢˜"

**æ–¹æ¡ˆ Bï¼ˆè½»é‡çº§ï¼‰**:
- ä½¿ç”¨ RoBERTa-scale æ¨¡å‹
- æˆ–è€…ç®€å•è§„åˆ™ï¼ˆæ—¶é—´çª—å£ + ä¸»é¢˜å…³é”®è¯å˜åŒ–ï¼‰

**é€‚ç”¨åœºæ™¯**:
- ä¸ªäººè®°å¿†ç³»ç»Ÿï¼ˆåƒçº§æ•°æ®ï¼‰å¯ä»¥ç”¨è½»é‡æ–¹æ¡ˆ
- æ¯æ¬¡æ–°å¢å¯¹è¯åï¼Œå¼‚æ­¥åˆ†æ®µå¤„ç†

#### ç¬¬äºŒæ­¥ï¼šè®°å¿†å»å™ª

ä½¿ç”¨ LLMLingua-2 æˆ–ç±»ä¼¼å·¥å…·ï¼š
```python
from llmlingua import PromptCompressor

compressor = PromptCompressor()
compressed_segment = compressor.compress_prompt(segment_text)
```

#### ç¬¬ä¸‰æ­¥ï¼šæ£€ç´¢ä¸ç”Ÿæˆ

```python
# 1. å‘é‡åŒ–æŸ¥è¯¢å’Œ Segments
query_embedding = model.encode(user_query)
segment_embeddings = [model.encode(seg) for seg in compressed_segments]

# 2. å¬å› Top-K
similarities = cosine_similarity(query_embedding, segment_embeddings)
top_k_indices = np.argsort(similarities)[-k:]

# 3. ç›´æ¥æ‹¼æ¥ä½œä¸ºä¸Šä¸‹æ–‡
context = "\n\n".join([segments[i] for i in top_k_indices])

# 4. ç”Ÿæˆå“åº”
response = llm.generate(context + "\n\nUser: " + user_query)
```

---

### âš ï¸ é€‚é…åˆ°ä¸ªäººè®°å¿†ç³»ç»Ÿ

| ç»´åº¦ | SeComï¼ˆåŸè®ºæ–‡ï¼‰ | ä¸ªäººè®°å¿†ç³»ç»Ÿ |
|------|----------------|-------------|
| **æ•°æ®è§„æ¨¡** | é•¿å¯¹è¯ï¼ˆæ•°åƒè½®ï¼‰ | åƒçº§æ—¥å¿— |
| **åˆ†æ®µæ¨¡å‹** | GPT-4 / Mistral | å¯ç”¨è½»é‡è§„åˆ™ |
| **è®°å¿†ç±»å‹** | å•ä¸€å¯¹è¯å†å² | å¤šç±»å‹ï¼ˆinsights/decisions/conversationsï¼‰ |
| **æ›´æ–°é¢‘ç‡** | é™æ€æµ‹è¯•é›† | å®æ—¶å¢é‡ |

**è°ƒæ•´å»ºè®®**:
1. **åˆ†æ®µç²’åº¦**å¯ä»¥æ›´ç²—ï¼šæŒ‰æ—¥æœŸ + ä¸»é¢˜æ ‡ç­¾
2. **å»å™ª**å¯ä»¥ç®€åŒ–ï¼šTF-IDF è¿‡æ»¤ä½ä¿¡æ¯å¯†åº¦å†…å®¹
3. **æ£€ç´¢**å¯ä»¥å¤šè·¯ï¼šæ—¶é—´å¬å› + è¯­ä¹‰å¬å› + æ ‡ç­¾å¬å›

---

## 7. å¾…æ¢ç´¢é—®é¢˜

- [ ] å¦‚ä½•å®šä¹‰ä¸ªäººè®°å¿†ç³»ç»Ÿä¸­çš„"Segment"ï¼Ÿ
  - æ˜¯å¦æŒ‰æ—¥æœŸ + ä¸»é¢˜æ ‡ç­¾ï¼Ÿ
  - æ˜¯å¦éœ€è¦è·¨æ—¥æœŸçš„ä¸»é¢˜èšåˆï¼Ÿ

- [ ] è½»é‡çº§åˆ†æ®µæ–¹æ¡ˆçš„æ•ˆæœå¦‚ä½•ï¼Ÿ
  - ç®€å•è§„åˆ™ vs å°æ¨¡å‹ vs GPT-4

- [ ] å¦‚ä½•å¤„ç†è·¨ Segment çš„ä¸»é¢˜å…³è”ï¼Ÿ
  - æ˜¯å¦éœ€è¦ Memory-to-Memory å…³ç³»å›¾ï¼Ÿ

- [ ] è®°å¿†å»å™ªçš„æ›¿ä»£æ–¹æ¡ˆï¼Ÿ
  - LLMLingua-2 vs TF-IDF vs å…¶ä»–å‹ç¼©ç®—æ³•

---

## 8. ç›¸å…³èµ„æº

- **è®ºæ–‡**: https://arxiv.org/abs/2502.05589
- **é¡¹ç›®é¡µ**: https://www.microsoft.com/en-us/research/project/secom/
- **OpenReview**: https://openreview.net/forum?id=xKDZAW0He3
- **LLMLingua-2**: https://llmlingua.com/llmlingua2.html

---

## Memory in the Age of AI Agents: A Survey

**â­ ä¼˜å…ˆçº§: P2 | ç›¸å…³æ€§: â­â­â­â­**

### åŸºæœ¬ä¿¡æ¯
- **å‘è¡¨**: 2026-01-29 (GitHub æ›´æ–°)
- **ç±»å‹**: Survey + Paper List
- **GitHub**: https://github.com/Shichun-Liu/Agent-Memory-Paper-List
- **Star**: 1000+ â­

### æ ¸å¿ƒå†…å®¹
æä¾›äº† AI Agent è®°å¿†ç³»ç»Ÿçš„å…¨æ™¯ç»¼è¿°å’Œè®ºæ–‡æ¸…å•ã€‚

### å¯¹æœ¬é¡¹ç›®çš„ä»·å€¼
- ğŸ“š æ–‡çŒ®ç´¢å¼•å·¥å…·
- ğŸ—ºï¸ ç ”ç©¶æ–¹å‘åœ°å›¾
- ğŸ”— åç»­æ·±å…¥é˜…è¯»çš„å…¥å£

### å»ºè®®ä½¿ç”¨æ–¹å¼
å½“é‡åˆ°å…·ä½“æŠ€æœ¯é—®é¢˜æ—¶ï¼Œå¯ä»¥åœ¨è¯¥ Repo ä¸­æœç´¢ç›¸å…³ keywordsï¼Œæ‰¾åˆ°æ›´å¤šå‚è€ƒè®ºæ–‡ã€‚

---

_æœ€åæ›´æ–°: 2026-02-21_
